{
	"$schema": "./skill-rules.schema.json",
	"version": "1.0.0",
	"skills": {
		"fix": {
			"type": "workflow",
			"enforcement": "suggest",
			"priority": "high",
			"description": "Bug investigation and resolution workflow",
			"promptTriggers": {
				"keywords": [
					"/fix",
					"fix the bug",
					"broken",
					"not working",
					"doesn't work",
					"failing"
				],
				"intentPatterns": [
					"fix.*?(bug|error|issue)",
					"(broken|not working|failing).*?code"
				]
			},
			"agents": ["explore", "tester", "implementer"],
			"workflow": [
				"explore → identify issue",
				"implementer → fix",
				"tester → verify"
			]
		},
		"build": {
			"type": "workflow",
			"enforcement": "suggest",
			"priority": "high",
			"description": "Feature implementation workflow",
			"promptTriggers": {
				"keywords": [
					"/build",
					"build a",
					"create a",
					"implement",
					"add feature"
				],
				"intentPatterns": [
					"(build|create|implement).*?(feature|component|page)",
					"add.*?(new|feature)"
				]
			},
			"agents": ["planner", "scaffolder", "implementer", "tester"],
			"workflow": [
				"planner → breakdown",
				"scaffolder → structure",
				"implementer → code",
				"tester → verify"
			]
		},
		"refactor": {
			"type": "workflow",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "Code refactoring workflow",
			"promptTriggers": {
				"keywords": [
					"/refactor",
					"refactor",
					"clean up",
					"reorganize",
					"restructure"
				],
				"intentPatterns": [
					"refactor.*?(code|module|component)",
					"(clean|tidy).*?up"
				]
			},
			"agents": ["explore", "implementer", "reviewer"],
			"workflow": [
				"explore → analyze",
				"implementer → refactor",
				"reviewer → verify quality"
			]
		},
		"review": {
			"type": "workflow",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "Code review workflow",
			"promptTriggers": {
				"keywords": ["/review", "review", "check code", "code quality"],
				"intentPatterns": [
					"review.*?(code|changes|pr)",
					"check.*?(quality|code)"
				]
			},
			"agents": ["reviewer", "tester"],
			"workflow": ["reviewer → analyze", "tester → run tests"]
		},
		"test": {
			"type": "workflow",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "Testing workflow - unit tests, integration tests, E2E tests",
			"promptTriggers": {
				"keywords": ["/test", "run tests", "write tests", "test coverage"],
				"intentPatterns": [
					"(run|write|add).*?tests?",
					"test.*?(coverage|suite)"
				]
			},
			"agents": ["tester"],
			"workflow": ["tester → run/write tests"],
			"ambiguous": true
		},
		"explore": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "Codebase exploration and understanding",
			"promptTriggers": {
				"keywords": [
					"/explore",
					"explore",
					"understand",
					"how does",
					"where is",
					"find"
				],
				"intentPatterns": [
					"(understand|explore).*?(codebase|code|this)",
					"(how|where).*?(does|is).*?(work|implemented)"
				]
			},
			"agents": ["explore", "oracle"]
		},
		"docs": {
			"type": "skill",
			"enforcement": "block",
			"priority": "critical",
			"description": "ALWAYS fetch latest docs via context7 before implementing with any library",
			"promptTriggers": {
				"keywords": [
					"/docs",
					"documentation",
					"how to use",
					"api reference",
					"library docs",
					"package docs",
					"latest docs",
					"implement with",
					"use gsap",
					"use lenis",
					"use three",
					"use framer",
					"use radix",
					"use sanity",
					"add animation",
					"add scroll",
					"add 3d"
				],
				"intentPatterns": [
					"(fetch|get|find|show).*?doc",
					"how.*?(to|do).*?(use|implement)",
					"(react|next|tailwind|gsap|lenis|three|framer|motion|radix|sanity|zustand).*?(docs?|api|guide|component|hook)",
					"what.*?(api|method|function).*?(for|in)",
					"(implement|add|create|build).*?(with|using).*?(gsap|lenis|three|framer|motion|radix)",
					"(setup|configure|integrate).*?(library|package|dependency)"
				]
			},
			"agents": ["librarian", "oracle"],
			"mcpServer": "context7",
			"autoInvoke": true,
			"preImplementation": true,
			"_hint": "MANDATORY: Fetch context7 docs BEFORE writing any code that uses external libraries. Never assume API knowledge - always verify."
		},
		"debug": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "high",
			"description": "AI-optimized browser debugging with agent-browser CLI - screenshots, DOM inspection, accessibility tree",
			"promptTriggers": {
				"keywords": [
					"/debug",
					"browser debug",
					"screenshot",
					"visual bug",
					"inspect element",
					"dom inspection",
					"e2e debug",
					"see the page",
					"what does it look like"
				],
				"intentPatterns": [
					"(take|capture|get).*?screenshot",
					"(debug|inspect).*?(browser|page|element|dom)",
					"(visual|ui).*?(bug|issue|problem)",
					"what.*?(look|render|display).*?like",
					"(see|show).*?(page|component|ui)",
					"(test|check).*?(visually|browser)"
				]
			},
			"agents": ["tester"],
			"tool": "agent-browser",
			"autoInvoke": true,
			"_hint": "Use agent-browser CLI for AI-optimized browser automation with accessibility tree refs (@e1, @e2)"
		},
		"component": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "Create React component with Darkroom standards",
			"promptTriggers": {
				"keywords": ["/component", "create component", "new component"],
				"intentPatterns": ["(create|new|add).*?component"]
			},
			"agents": ["scaffolder", "implementer"]
		},
		"hook": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "Create custom React hook",
			"promptTriggers": {
				"keywords": ["/hook", "create hook", "custom hook"],
				"intentPatterns": ["(create|new|add).*?hook"]
			},
			"agents": ["scaffolder", "implementer"]
		},
		"init": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "high",
			"description": "Initialize project with Satus starter - the Darkroom standard",
			"promptTriggers": {
				"keywords": ["/init", "initialize", "setup project", "new project", "start project", "create project", "new nextjs", "new next.js"],
				"intentPatterns": ["(init|setup|start|create|new).*?project", "(new|create).*?(nextjs|next.js|react).*?(project|app)"]
			},
			"agents": ["scaffolder"],
			"defaultTemplate": "satus",
			"_hint": "Always use Satus starter: bunx degit darkroomengineering/satus"
		},
		"orchestrate": {
			"type": "workflow",
			"enforcement": "suggest",
			"priority": "high",
			"description": "Multi-agent task orchestration",
			"promptTriggers": {
				"keywords": ["/orchestrate", "orchestrate", "coordinate", "multi-step"],
				"intentPatterns": [
					"(coordinate|orchestrate).*?task",
					"complex.*?(task|feature)"
				]
			},
			"agents": ["maestro"]
		},
		"ask": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "low",
			"description": "Ask Oracle for expert guidance",
			"promptTriggers": {
				"keywords": ["/ask", "ask oracle", "expert opinion"],
				"intentPatterns": ["(ask|consult).*?(oracle|expert)"]
			},
			"agents": ["oracle"]
		},
		"lenis": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "low",
			"description": "Setup Lenis smooth scroll",
			"promptTriggers": {
				"keywords": ["/lenis", "smooth scroll", "lenis"],
				"intentPatterns": ["(setup|add|implement).*?(lenis|smooth.*?scroll)"]
			},
			"agents": ["implementer"]
		},
		"versions": {
			"type": "skill",
			"enforcement": "block",
			"priority": "high",
			"description": "ALWAYS check latest version before installing any package",
			"promptTriggers": {
				"keywords": [
					"/versions",
					"package version",
					"latest version",
					"check version",
					"npm version",
					"bun add",
					"npm install",
					"install package",
					"add dependency"
				],
				"intentPatterns": [
					"(check|show|get|what).*?version",
					"(latest|current).*?(version|release)",
					"(install|add).*?(package|dependency|library)",
					"(bun|npm|yarn|pnpm).*?(add|install)"
				]
			},
			"agents": ["implementer"],
			"preInstall": true,
			"_hint": "MANDATORY: Run 'bun info <package>' before installing. Never install without checking latest version first."
		},
		"create_handoff": {
			"type": "skill",
			"enforcement": "block",
			"priority": "critical",
			"description": "Create session handoff before ending or context limit",
			"promptTriggers": {
				"keywords": [
					"done for today",
					"ending session",
					"handoff",
					"context full",
					"wrapping up"
				],
				"intentPatterns": [
					"(done|finished|ending).*?(today|session|now)",
					"(save|preserve).*?state"
				]
			},
			"contextTrigger": {
				"threshold": 0.9,
				"enforcement": "block"
			}
		},
		"resume_handoff": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "high",
			"description": "Resume from previous session handoff",
			"promptTriggers": {
				"keywords": ["resume", "continue where", "pick up", "last session"],
				"intentPatterns": [
					"(resume|continue).*?(where|session)",
					"pick.*?up.*?(where|left)"
				]
			}
		},
		"premortem": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "Analyze what could go wrong with a plan",
			"promptTriggers": {
				"keywords": [
					"/premortem",
					"what could go wrong",
					"risks",
					"potential issues"
				],
				"intentPatterns": [
					"what.*?(could|might).*?(go wrong|fail|break)",
					"(risks?|issues?).*?(with|in)"
				]
			},
			"agents": ["oracle", "reviewer"]
		},
		"discovery": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "Discovery interview to understand requirements",
			"promptTriggers": {
				"keywords": [
					"help me figure out",
					"what do I need",
					"requirements",
					"scope"
				],
				"intentPatterns": [
					"(help|figure).*?(out|need)",
					"(what|define).*?requirements"
				]
			},
			"agents": ["planner", "oracle"]
		},
		"tldr": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "TLDR code analysis - semantic search, dependencies, program slicing",
			"promptTriggers": {
				"keywords": [
					"/tldr",
					"semantic search",
					"who calls",
					"what affects",
					"trace dependencies",
					"call graph"
				],
				"intentPatterns": [
					"(who|what).*?calls.*?(this|function)",
					"(trace|find).*?dependencies",
					"what.*?affects.*?line",
					"(semantic|meaning).*?search"
				]
			},
			"agents": ["explore"],
			"requires": "llm-tldr"
		},
		"learn": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "Persistent memory system - store and recall learnings across sessions",
			"promptTriggers": {
				"keywords": [
					"/learn",
					"remember this",
					"store learning",
					"recall learnings",
					"what did we learn",
					"lessons learned"
				],
				"intentPatterns": [
					"(remember|store|save).*?(this|learning|lesson)",
					"(recall|show|list).*?learnings",
					"what.*?(learned|know).*?(about|from)",
					"lessons.*?(learned|from)"
				]
			}
		},
		"qa": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "high",
			"description": "Visual QA validation with agent-browser - accessibility, contrast, touch targets, layout",
			"promptTriggers": {
				"keywords": [
					"/qa",
					"visual qa",
					"validate visually",
					"check accessibility",
					"check contrast",
					"touch targets",
					"visual validation",
					"qa check",
					"accessibility audit",
					"a11y check"
				],
				"intentPatterns": [
					"(validate|check|verify).*?(visually|visual|ui|a11y|accessibility)",
					"(run|do).*?(qa|visual).*?(check|validation|test)",
					"(check|test).*?(contrast|touch|layout|accessibility)",
					"(accessibility|a11y).*?(audit|check|test)",
					"does.*?(look|render).*?(correct|right|good)"
				]
			},
			"agents": ["tester"],
			"tool": "agent-browser",
			"autoInvoke": true,
			"_hint": "Use agent-browser to screenshot, analyze accessibility tree, check contrast/touch targets/layout"
		},
		"context": {
			"type": "skill",
			"enforcement": "suggest",
			"priority": "medium",
			"description": "Context window management - check usage, compact, optimize",
			"promptTriggers": {
				"keywords": [
					"/context",
					"context window",
					"context usage",
					"running out of context",
					"compact context",
					"context limit"
				],
				"intentPatterns": [
					"(check|show|how much).*?context",
					"context.*?(window|usage|limit|full)",
					"running.*?(out|low).*?context",
					"(compact|clear|reset).*?context"
				]
			}
		}
	},
	"agents": {
		"planner": {
			"description": "Task breakdown and planning",
			"triggers": ["plan", "breakdown", "organize", "structure"],
			"priority": "high"
		},
		"implementer": {
			"description": "Code implementation",
			"triggers": ["implement", "code", "build", "create"],
			"priority": "high"
		},
		"reviewer": {
			"description": "Code review and quality",
			"triggers": ["review", "quality", "check", "audit"],
			"priority": "medium"
		},
		"tester": {
			"description": "Testing and verification",
			"triggers": ["test", "verify", "validate"],
			"priority": "medium"
		},
		"scaffolder": {
			"description": "Boilerplate and structure generation",
			"triggers": ["scaffold", "generate", "template", "boilerplate"],
			"priority": "medium"
		},
		"librarian": {
			"description": "Documentation management",
			"triggers": ["document", "docs", "readme"],
			"priority": "low"
		},
		"explore": {
			"description": "Codebase navigation and understanding",
			"triggers": ["explore", "find", "navigate", "understand"],
			"priority": "medium"
		},
		"oracle": {
			"description": "Expert Q&A and guidance",
			"triggers": ["ask", "explain", "why", "how"],
			"priority": "low"
		},
		"maestro": {
			"description": "Multi-agent task orchestration",
			"triggers": ["orchestrate", "coordinate", "complex", "multi-step"],
			"priority": "high"
		}
	},
	"contextThresholds": {
		"notice": {
			"percent": 70,
			"message": "Consider handoff when you reach a stopping point",
			"enforcement": "warn"
		},
		"warning": {
			"percent": 80,
			"message": "Recommend: create handoff then compact soon",
			"enforcement": "warn"
		},
		"critical": {
			"percent": 90,
			"message": "Run create_handoff NOW before auto-compact!",
			"enforcement": "block"
		}
	},
	"ambiguousKeywords": ["test", "plan", "research", "check", "run"],
	"settings": {
		"showSkillSuggestions": true,
		"showAgentSuggestions": true,
		"validateAmbiguous": true,
		"autoActivateCritical": true
	}
}
